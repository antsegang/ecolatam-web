<nav class="tabs" role="tablist" aria-label="Secciones del perfil">
  <button class="tab" [class.active]="tab==='posts'" (click)="tabChange.emit('posts')" role="tab">Publicaciones</button>
  <button class="tab" [class.active]="tab==='activity'" (click)="tabChange.emit('activity')" role="tab">Actividad</button>
</nav>

<div class="profile-body">
  <div *ngIf="tab==='posts'" @tabAnim>
    <section class="card reveal composer">
      <div class="avatar-xs"><img src="/avatar-placeholder.png" [alt]="user.name || user.username || 'Usuario'"/></div>
      <input type="text" placeholder="¿Qué estás pensando?" disabled />
      <button class="btn" disabled>Publicar</button>
    </section>
    <ng-container *ngIf="posts.length > 0; else emptyFeed">
      <section class="feed">
        <article class="card reveal post" *ngFor="let p of posts" @tabAnim>
          <header class="post-head">
            <div class="avatar-xs"><img src="/avatar-placeholder.png" [alt]="user.name || user.username || 'Usuario'"/></div>
            <div class="who">
              <strong>{{ user.name }} {{ user.lastname }}</strong>
              <span class="muted">{{ '@' + user.username }}</span>
              <span class="dot">·</span>
              <time class="muted">{{ p.createdAt | date:'mediumDate':'UTC' }}</time>
            </div>
          </header>
          <div class="post-body"><p>{{ p.content }}</p></div>
        </article>
      </section>
    </ng-container>
    <ng-template #emptyFeed>
      <section class="empty-feed card">
        <div class="illo"></div>
        <h3>Sin publicaciones aún</h3>
        <p class="muted">Cuando este usuario publique, lo verás aquí.</p>
      </section>
    </ng-template>
  </div>

  <div *ngIf="tab==='activity'" @tabAnim>
    <section class="panel">
      <h2>Actividad reciente</h2>
      <p class="muted">Próximamente verás reseñas, interacciones y cambios relevantes.</p>
    </section>
  </div>
</div>