:host { display:block; }

/* Skip link accesible */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left:16px; top:10px; width:auto; height:auto; z-index:1000;
  padding:8px 12px; border-radius:12px;
  background:rgba(255,255,255,.95); color:#111; text-decoration:none;
  box-shadow: var(--shadow-1);
}

/* Header sticky global con efecto glass y transición al ocultar */
.site-header{
  position: sticky; top: 0; z-index: 60;
  background: linear-gradient(180deg, rgba(6,9,15,.92), rgba(6,9,15,.66) 60%, rgba(6,9,15,0));
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--line);
  transform: translateY(0);
  transition: transform .22s ease, background .22s ease, box-shadow .22s ease;
}
.site-header.hide{
  transform: translateY(-120%);
}
.site-header.at-top{
  box-shadow: none;
}
.site-header:not(.at-top){
  background: rgba(6,9,15,.92);
  box-shadow: var(--shadow-1);
}

.header-inner{
  height:84px; display:flex; align-items:center; justify-content:space-between; gap:16px;
}
.brand img{ height:56px; display:block }

/* Navegación */
.nav{
  display:flex; gap:14px; flex-wrap:wrap;
  a{
    color: var(--txt);
    padding:8px 10px; border-radius:10px;
    text-decoration:none; transition: background .15s ease, color .15s ease;
  }
  a:hover{ background: rgba(255,255,255,.06); text-decoration:none }
  a.active{ color: var(--accent); background: rgba(34,197,94,.10); }
  a.external::after{ content: "↗"; margin-left:8px; opacity:.8; font-size:.9em; }
}

/* Submenús desktop */
.menu-group{ position:relative }
.group-btn{ background: transparent; color: var(--txt); border:0; padding:8px 10px; border-radius:10px; cursor:pointer }
.group-btn:hover{ background: rgba(255,255,255,.06) }
.submenu{ position:absolute; top: 110%; left:0; min-width: 200px; padding:8px; border-radius:12px; border:1px solid var(--line); background: var(--surface); box-shadow: var(--shadow-1); display:none; }
.menu-group:hover .submenu{ display:block }
.submenu a{ display:block; padding:8px 10px; border-radius:10px; }
.submenu a:hover{ background: rgba(255,255,255,.06) }

/* Toggle móvil */
.nav-toggle{
  display:none;
  background: rgba(255,255,255,.04);
  border: 1px solid var(--line);
  border-radius: 10px; padding:8px 10px; cursor:pointer;
  color: var(--txt);
}
.nav-toggle .bar{ display:block; width:20px; height:2px; background: currentColor; margin:4px 0; }

/* Drawer móvil */
.mobile-drawer{
  position:fixed; inset:0; background: rgba(0,0,0,.45);
  opacity:0; visibility:hidden; transition: .2s ease; backdrop-filter: blur(2px);
}
.mobile-drawer.open{ opacity:1; visibility:visible; }
.mobile-drawer .nav.mobile{
  position:absolute; right:12px; top:12px; width:min(92vw, 320px);
  background: var(--surface);
  border:1px solid var(--line);
  border-radius:16px; padding:12px;
  box-shadow: var(--shadow-1);
  display:flex; flex-direction:column; gap:6px;
  a{ padding:10px 12px; border-radius:10px; }
  a:hover{ background: rgba(255,255,255,.06); }
}

/* Acordeones móviles */
.group-toggle{ display:flex; align-items:center; justify-content:space-between; width:100%; background: rgba(255,255,255,.04); border:1px solid var(--line); border-radius:10px; color: var(--txt); padding:10px 12px; cursor:pointer }
.group-toggle .chev{ transition: transform .15s ease }
.group-toggle .chev.open{ transform: rotate(180deg) }
.submenuM{ max-height:0; overflow:hidden; transition: max-height .2s ease; display:flex; flex-direction:column; gap:6px; margin: 0 4px; }
.submenuM.open{ max-height: 400px; }

/* Responsive */
  @media (max-width: 980px){
    .nav.desktop{ display:none }
  .nav-toggle{ display:inline-flex; align-items:center; justify-content:center; }
}
@media (min-width: 981px){
  .mobile-drawer{ display:none }
}

/* Search */
.site-search{ display:flex; gap:8px; align-items:center; position: relative; }
.site-search input{ width: 260px; background: var(--surface-2); color: var(--txt); border:1px solid var(--line); border-radius: 10px; padding:8px 10px; }
.site-search .search-panel{ position:absolute; top: 110%; right:0; width: min(520px, 92vw); z-index: 80; }
.site-search .results{ list-style:none; margin:0; padding:0; display:flex; flex-direction:column; }
.site-search .results a{ display:flex; gap:8px; padding:10px 12px; border-radius: 10px; color: var(--txt); text-decoration:none; }
.site-search .results a:hover{ background: rgba(255,255,255,.06) }
.site-search .results .pill.type{ font-size: 12px; opacity:.8 }
.site-search .results .title{ font-weight:800 }
.site-search .results .sub{ color: var(--muted) }
.site-search .see-all a{ justify-content:center; font-weight:800; }
.site-search.mobile{ margin-top: 10px; }
.site-search.mobile input{ width:100%; }
